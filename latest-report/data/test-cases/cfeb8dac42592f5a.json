{"uid":"cfeb8dac42592f5a","name":"Создание и добавление тега питомцу","fullName":"tests.pet.test_pet.TestPet#test_add_pet_tag","historyId":"c15ee7dc8f62551d31d30ac004dc9405","time":{"start":1743820179638,"stop":1743820189875,"duration":10237},"status":"failed","statusMessage":"AssertionError: Элемент id=2 name='fluffy' не найден в списке","statusTrace":"self = <test_pet.TestPet object at 0x7f73071c4ad0>\nclient = <src.models.client.Client object at 0x7f7306e39f10>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f7306e3a000>\npet_data = Pet(id=990, category=Category(id=217, name='Ashley Hernandez'), name='Stephanie Joseph', photoUrls=['https://dummyimage.com/364x796'], tags=[Tag(id=2, name='fluffy')], status='pending')\n\n    @allure.story(\"Обновление информации о питомцах\")\n    @allure.title(\"Создание и добавление тега питомцу\")\n    def test_add_pet_tag(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Добавление тега питомцу\"):\n    \t\ttag = Tag(id=2, name=\"fluffy\")\n    \t\tpet_data.tags = [tag]\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags[0].id, tag.id)\n    \n    \twith allure.step(\"Проверка добавления тега питомцу\"):\n    \t\tresponse = pet_helper.get_pet(client, pet_data.id)\n>   \t\tCustomAsserts.check_item_in_list(tag, response.tags, \"Тег не добавлен к питомцу или не найден\")\n\ntests/pet/test_pet.py:149: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/tech/custom_asserts.py:39: in check_item_in_list\n    _check_item_in_list(item, item_list)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nitm = Tag(id=2, name='fluffy'), lst = [Tag(id=12, name='LightGray')]\n\n    @step(step_name)\n    def _check_item_in_list(itm, lst):\n>   \tassert itm in lst, f\"Элемент {item} не найден в списке\"\nE    AssertionError: Элемент id=2 name='fluffy' не найден в списке\n\nsrc/tech/custom_asserts.py:37: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1743820178760,"stop":1743820178761,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_helper","time":{"start":1743820178761,"stop":1743820178762,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1743820178761,"stop":1743820178761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_data","time":{"start":1743820179636,"stop":1743820179638,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Элемент id=2 name='fluffy' не найден в списке","statusTrace":"self = <test_pet.TestPet object at 0x7f73071c4ad0>\nclient = <src.models.client.Client object at 0x7f7306e39f10>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f7306e3a000>\npet_data = Pet(id=990, category=Category(id=217, name='Ashley Hernandez'), name='Stephanie Joseph', photoUrls=['https://dummyimage.com/364x796'], tags=[Tag(id=2, name='fluffy')], status='pending')\n\n    @allure.story(\"Обновление информации о питомцах\")\n    @allure.title(\"Создание и добавление тега питомцу\")\n    def test_add_pet_tag(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Добавление тега питомцу\"):\n    \t\ttag = Tag(id=2, name=\"fluffy\")\n    \t\tpet_data.tags = [tag]\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags[0].id, tag.id)\n    \n    \twith allure.step(\"Проверка добавления тега питомцу\"):\n    \t\tresponse = pet_helper.get_pet(client, pet_data.id)\n>   \t\tCustomAsserts.check_item_in_list(tag, response.tags, \"Тег не добавлен к питомцу или не найден\")\n\ntests/pet/test_pet.py:149: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/tech/custom_asserts.py:39: in check_item_in_list\n    _check_item_in_list(item, item_list)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nitm = Tag(id=2, name='fluffy'), lst = [Tag(id=12, name='LightGray')]\n\n    @step(step_name)\n    def _check_item_in_list(itm, lst):\n>   \tassert itm in lst, f\"Элемент {item} не найден в списке\"\nE    AssertionError: Элемент id=2 name='fluffy' не найден в списке\n\nsrc/tech/custom_asserts.py:37: AssertionError","steps":[{"name":"Создание питомца","time":{"start":1743820179639,"stop":1743820179716,"duration":77},"status":"passed","steps":[{"name":"Создание питомца","time":{"start":1743820179639,"stop":1743820179715,"duration":76},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1743820179715,"stop":1743820179715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6f04939d9729d0f5","name":"Request","source":"6f04939d9729d0f5.txt","type":"text/plain","size":39},{"uid":"1f4d7128fb4af51e","name":"Request headers","source":"1f4d7128fb4af51e.json","type":"application/json","size":39},{"uid":"9b2da251203d59e9","name":"Request body","source":"9b2da251203d59e9.json","type":"application/json","size":265},{"uid":"652ba517984d123c","name":"Response status code","source":"652ba517984d123c.txt","type":"text/plain","size":3},{"uid":"67b0d009569cb5cb","name":"Response Headers","source":"67b0d009569cb5cb.json","type":"application/json","size":357},{"uid":"75bb9e96c7271d24","name":"Response body","source":"75bb9e96c7271d24.json","type":"application/json","size":265}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f7306e39f10>"},{"name":"data","value":"Pet(id=990, category=Category(id=217, name='Ashley Hernandez'), name='Stephanie Joseph', photoUrls=['https://dummyimage.com/364x796'], tags=[Tag(id=12, name='LightGray')], status='pending')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'Stephanie Joseph' равно 'Stephanie Joseph'","time":{"start":1743820179716,"stop":1743820179716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'Stephanie Joseph'"},{"name":"expected_val","value":"'Stephanie Joseph'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Добавление тега питомцу","time":{"start":1743820189716,"stop":1743820189797,"duration":81},"status":"passed","steps":[{"name":"Обновление информации о питомце","time":{"start":1743820189716,"stop":1743820189797,"duration":81},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1743820189797,"stop":1743820189797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f1fface4d3137622","name":"Request","source":"f1fface4d3137622.txt","type":"text/plain","size":38},{"uid":"3296afb68952cb86","name":"Request headers","source":"3296afb68952cb86.json","type":"application/json","size":39},{"uid":"f0af12920ff34dba","name":"Request body","source":"f0af12920ff34dba.json","type":"application/json","size":261},{"uid":"ad2c08dd0ccb482c","name":"Response status code","source":"ad2c08dd0ccb482c.txt","type":"text/plain","size":3},{"uid":"dbe11844c6d9cd2","name":"Response Headers","source":"dbe11844c6d9cd2.json","type":"application/json","size":357},{"uid":"3c460734d00f8e9e","name":"Response body","source":"3c460734d00f8e9e.json","type":"application/json","size":261}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f7306e39f10>"},{"name":"data","value":"Pet(id=990, category=Category(id=217, name='Ashley Hernandez'), name='Stephanie Joseph', photoUrls=['https://dummyimage.com/364x796'], tags=[Tag(id=2, name='fluffy')], status='pending')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что '2' равно '2'","time":{"start":1743820189797,"stop":1743820189797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"2"},{"name":"expected_val","value":"2"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка добавления тега питомцу","time":{"start":1743820189797,"stop":1743820189874,"duration":77},"status":"failed","statusMessage":"AssertionError: Элемент id=2 name='fluffy' не найден в списке\n","statusTrace":"  File \"/home/runner/work/python-pytest-api/python-pytest-api/tests/pet/test_pet.py\", line 149, in test_add_pet_tag\n    CustomAsserts.check_item_in_list(tag, response.tags, \"Тег не добавлен к питомцу или не найден\")\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 39, in check_item_in_list\n    _check_item_in_list(item, item_list)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 37, in _check_item_in_list\n    assert itm in lst, f\"Элемент {item} не найден в списке\"\n           ^^^^^^^^^^\n","steps":[{"name":"Получение информации о питомце по ID","time":{"start":1743820189797,"stop":1743820189874,"duration":77},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1743820189874,"stop":1743820189874,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"58065e63f73626df","name":"Request","source":"58065e63f73626df.txt","type":"text/plain","size":42},{"uid":"37012d1cb3da77c2","name":"Request headers","source":"37012d1cb3da77c2.json","type":"application/json","size":39},{"uid":"c26357e618ae7ec2","name":"Response status code","source":"c26357e618ae7ec2.txt","type":"text/plain","size":3},{"uid":"900a2528477dbcd5","name":"Response Headers","source":"900a2528477dbcd5.json","type":"application/json","size":357},{"uid":"cbeee8a8534798fb","name":"Response body","source":"cbeee8a8534798fb.json","type":"application/json","size":265}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f7306e39f10>"},{"name":"pet_id","value":"990"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"Тег не добавлен к питомцу или не найден","time":{"start":1743820189874,"stop":1743820189874,"duration":0},"status":"failed","statusMessage":"AssertionError: Элемент id=2 name='fluffy' не найден в списке\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 37, in _check_item_in_list\n    assert itm in lst, f\"Элемент {item} не найден в списке\"\n           ^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"itm","value":"Tag(id=2, name='fluffy')"},{"name":"lst","value":"[Tag(id=12, name='LightGray')]"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Petstore API"},{"name":"feature","value":"Pet"},{"name":"story","value":"Обновление информации о питомцах"},{"name":"parentSuite","value":"tests.pet"},{"name":"suite","value":"test_pet"},{"name":"subSuite","value":"TestPet"},{"name":"host","value":"fv-az2236-747"},{"name":"thread","value":"2339-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.pet.test_pet"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"cfeb8dac42592f5a.json","parameterValues":[]}