{"uid":"3c1926caa2470a56","name":"Создание и удаление питомца","fullName":"tests.pet.test_pet.TestPet#test_delete_pet","historyId":"c232854032ad65dcacc7d985fc117051","time":{"start":1743820179480,"stop":1743820189649,"duration":10169},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200","statusTrace":"self = <test_pet.TestPet object at 0x7f4a89dcc560>\nclient = <src.models.client.Client object at 0x7f4a89a45a00>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f4a89a46540>\npet_data = Pet(id=266, category=Category(id=485, name='Timothy Cruz'), name='Walter Trujillo', photoUrls=['https://picsum.photos/665/200'], tags=[Tag(id=325, name='White')], status='sold')\n\n    @allure.story(\"Удаление питомцев\")\n    @allure.title(\"Создание и удаление питомца\")\n    def test_delete_pet(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Удаление питомца\"):\n>   \t\tpet_helper.delete_pet(client, pet_data.id)\n\ntests/pet/test_pet.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/pet/helpers.py:47: in delete_pet\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [404]>, expected_code = 200\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 404 не равен ожидаемому 200\n\nsrc/tech/custom_asserts.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1743820178759,"stop":1743820178761,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1743820178761,"stop":1743820178761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_helper","time":{"start":1743820178761,"stop":1743820178762,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_data","time":{"start":1743820179478,"stop":1743820179480,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200","statusTrace":"self = <test_pet.TestPet object at 0x7f4a89dcc560>\nclient = <src.models.client.Client object at 0x7f4a89a45a00>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f4a89a46540>\npet_data = Pet(id=266, category=Category(id=485, name='Timothy Cruz'), name='Walter Trujillo', photoUrls=['https://picsum.photos/665/200'], tags=[Tag(id=325, name='White')], status='sold')\n\n    @allure.story(\"Удаление питомцев\")\n    @allure.title(\"Создание и удаление питомца\")\n    def test_delete_pet(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Удаление питомца\"):\n>   \t\tpet_helper.delete_pet(client, pet_data.id)\n\ntests/pet/test_pet.py:75: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/pet/helpers.py:47: in delete_pet\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [404]>, expected_code = 200\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 404 не равен ожидаемому 200\n\nsrc/tech/custom_asserts.py:51: AssertionError","steps":[{"name":"Создание питомца","time":{"start":1743820179480,"stop":1743820179561,"duration":81},"status":"passed","steps":[{"name":"Создание питомца","time":{"start":1743820179481,"stop":1743820179561,"duration":80},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1743820179561,"stop":1743820179561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"ac3a2f41fd9bdb3f","name":"Request","source":"ac3a2f41fd9bdb3f.txt","type":"text/plain","size":39},{"uid":"bc265c97e8c2313d","name":"Request headers","source":"bc265c97e8c2313d.json","type":"application/json","size":39},{"uid":"f6222ae86fc37e05","name":"Request body","source":"f6222ae86fc37e05.json","type":"application/json","size":253},{"uid":"e5c06749906d7954","name":"Response status code","source":"e5c06749906d7954.txt","type":"text/plain","size":3},{"uid":"9ba01b0c5a9fa1","name":"Response Headers","source":"9ba01b0c5a9fa1.json","type":"application/json","size":357},{"uid":"df534c3f08fdf5f","name":"Response body","source":"df534c3f08fdf5f.json","type":"application/json","size":253}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f4a89a45a00>"},{"name":"data","value":"Pet(id=266, category=Category(id=485, name='Timothy Cruz'), name='Walter Trujillo', photoUrls=['https://picsum.photos/665/200'], tags=[Tag(id=325, name='White')], status='sold')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'Walter Trujillo' равно 'Walter Trujillo'","time":{"start":1743820179561,"stop":1743820179561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'Walter Trujillo'"},{"name":"expected_val","value":"'Walter Trujillo'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Удаление питомца","time":{"start":1743820189562,"stop":1743820189648,"duration":86},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200\n","statusTrace":"  File \"/home/runner/work/python-pytest-api/python-pytest-api/tests/pet/test_pet.py\", line 75, in test_delete_pet\n    pet_helper.delete_pet(client, pet_data.id)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/func/pet/helpers.py\", line 47, in delete_pet\n    CustomAsserts.check_status_code(response, expected_status_code)\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 53, in check_status_code\n    _check_status_code(response, expected_status_code)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Удаление питомца","time":{"start":1743820189562,"stop":1743820189648,"duration":86},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/func/pet/helpers.py\", line 47, in delete_pet\n    CustomAsserts.check_status_code(response, expected_status_code)\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 53, in check_status_code\n    _check_status_code(response, expected_status_code)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус код = 200","time":{"start":1743820189647,"stop":1743820189647,"duration":0},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [404]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"48fa2b52e6d99b44","name":"Request","source":"48fa2b52e6d99b44.txt","type":"text/plain","size":45},{"uid":"c35693e5814940a0","name":"Request headers","source":"c35693e5814940a0.json","type":"application/json","size":39},{"uid":"934575b1a11d558f","name":"Response status code","source":"934575b1a11d558f.txt","type":"text/plain","size":3},{"uid":"e5355748bdad7ef","name":"Response Headers","source":"e5355748bdad7ef.json","type":"application/json","size":310}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f4a89a45a00>"},{"name":"pet_id","value":"266"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":4,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":10,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Pet"},{"name":"story","value":"Удаление питомцев"},{"name":"epic","value":"Petstore API"},{"name":"parentSuite","value":"tests.pet"},{"name":"suite","value":"test_pet"},{"name":"subSuite","value":"TestPet"},{"name":"host","value":"fv-az2236-747"},{"name":"thread","value":"2336-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.pet.test_pet"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"3c1926caa2470a56.json","parameterValues":[]}