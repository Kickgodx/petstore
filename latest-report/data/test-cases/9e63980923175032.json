{"uid":"9e63980923175032","name":"Создание и удаление заказа","fullName":"tests.store.test_store.TestStore#test_delete_order","historyId":"542e073a1c064f7caab37773471c7146","time":{"start":1743820190405,"stop":1743820195573,"duration":5168},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200","statusTrace":"self = <test_store.TestStore object at 0x7f4d67449a00>\nclient = <src.models.client.Client object at 0x7f4d6744ec00>\nstore_helper = <src.func.store.helpers.StoreHelper object at 0x7f4d67502150>\norder_data = Order(id=519, petId=880, quantity=5, shipDate='2011-11-15T14:39:08.450905', status='approved', complete=False)\n\n    @allure.title(\"Создание и удаление заказа\")\n    def test_delete_order(self, client, store_helper, order_data):\n    \twith allure.step(\"Создание заказа\"):\n    \t\tresponse = store_helper.place_order(client, order_data)\n    \t\tCustomAsserts.assert_equal(response.status, order_data.status)\n    \t\tCustomAsserts.assert_equal(response.id, order_data.id)\n    \n    \ttime.sleep(5)\n    \n>   \tresponse = store_helper.delete_order_by_id(client, order_data.id)\n\ntests/store/test_store.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/store/helpers.py:40: in delete_order_by_id\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [404]>, expected_code = 200\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 404 не равен ожидаемому 200\n\nsrc/tech/custom_asserts.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1743820178759,"stop":1743820178761,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1743820178761,"stop":1743820178761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_helper","time":{"start":1743820189933,"stop":1743820189934,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"order_data","time":{"start":1743820190403,"stop":1743820190404,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200","statusTrace":"self = <test_store.TestStore object at 0x7f4d67449a00>\nclient = <src.models.client.Client object at 0x7f4d6744ec00>\nstore_helper = <src.func.store.helpers.StoreHelper object at 0x7f4d67502150>\norder_data = Order(id=519, petId=880, quantity=5, shipDate='2011-11-15T14:39:08.450905', status='approved', complete=False)\n\n    @allure.title(\"Создание и удаление заказа\")\n    def test_delete_order(self, client, store_helper, order_data):\n    \twith allure.step(\"Создание заказа\"):\n    \t\tresponse = store_helper.place_order(client, order_data)\n    \t\tCustomAsserts.assert_equal(response.status, order_data.status)\n    \t\tCustomAsserts.assert_equal(response.id, order_data.id)\n    \n    \ttime.sleep(5)\n    \n>   \tresponse = store_helper.delete_order_by_id(client, order_data.id)\n\ntests/store/test_store.py:48: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/store/helpers.py:40: in delete_order_by_id\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [404]>, expected_code = 200\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 404 не равен ожидаемому 200\n\nsrc/tech/custom_asserts.py:51: AssertionError","steps":[{"name":"Создание заказа","time":{"start":1743820190405,"stop":1743820190486,"duration":81},"status":"passed","steps":[{"name":"Создание заказа","time":{"start":1743820190405,"stop":1743820190486,"duration":81},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1743820190486,"stop":1743820190486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e76b244d3e86a2e","name":"Request","source":"e76b244d3e86a2e.txt","type":"text/plain","size":47},{"uid":"31d6925667965284","name":"Request headers","source":"31d6925667965284.json","type":"application/json","size":39},{"uid":"84d92984d15b716e","name":"Request body","source":"84d92984d15b716e.json","type":"application/json","size":137},{"uid":"21534f0226390400","name":"Response status code","source":"21534f0226390400.txt","type":"text/plain","size":3},{"uid":"8368d6ad1c273838","name":"Response Headers","source":"8368d6ad1c273838.json","type":"application/json","size":357},{"uid":"41fe2c6758fd251","name":"Response body","source":"41fe2c6758fd251.json","type":"application/json","size":139}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f4d6744ec00>"},{"name":"data","value":"Order(id=519, petId=880, quantity=5, shipDate='2011-11-15T14:39:08.450905', status='approved', complete=False)"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'approved' равно 'approved'","time":{"start":1743820190486,"stop":1743820190486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'approved'"},{"name":"expected_val","value":"'approved'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что '519' равно '519'","time":{"start":1743820190486,"stop":1743820190486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"519"},{"name":"expected_val","value":"519"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Удаление заказа по ID","time":{"start":1743820195486,"stop":1743820195572,"duration":86},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/func/store/helpers.py\", line 40, in delete_order_by_id\n    CustomAsserts.check_status_code(response, expected_status_code)\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 53, in check_status_code\n    _check_status_code(response, expected_status_code)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус код = 200","time":{"start":1743820195572,"stop":1743820195572,"duration":0},"status":"failed","statusMessage":"AssertionError: Статус код 404 не равен ожидаемому 200\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [404]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1806e53ca04cc09b","name":"Request","source":"1806e53ca04cc09b.txt","type":"text/plain","size":53},{"uid":"c527925e20c78b71","name":"Request headers","source":"c527925e20c78b71.json","type":"application/json","size":39},{"uid":"44371bdd42f83eda","name":"Response status code","source":"44371bdd42f83eda.txt","type":"text/plain","size":3},{"uid":"6e99bf58f648f00c","name":"Response Headers","source":"6e99bf58f648f00c.json","type":"application/json","size":357},{"uid":"2098e99287d5aaba","name":"Response body","source":"2098e99287d5aaba.json","type":"application/json","size":70}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f4d6744ec00>"},{"name":"order_id","value":"519"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":11,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Store"},{"name":"epic","value":"Petstore API"},{"name":"tag","value":"store"},{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_store"},{"name":"subSuite","value":"TestStore"},{"name":"host","value":"fv-az2236-747"},{"name":"thread","value":"2333-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_store"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["store"]},"source":"9e63980923175032.json","parameterValues":[]}